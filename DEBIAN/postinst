#!/bin/bash

set -e

echo "Installing Docker if not already installed..."

# Check if curl is installed
if ! command -v docker &> /dev/null; then
    echo "Docker not found, installing..."
    if command -v apt-get &> /dev/null; then
        apt-get update
        apt-get install -y docker.io docker-compose
    elif command -v apt &> /dev/null; then
        apt update
        apt install -y docker.io docker-compose
    else
        echo "Error: Cannot install Docker. Neither apt-get nor apt found."
        exit 1
    fi
else
    echo "Docker.IO and docker-compose are already installed"
fi

docker-compose -f /home/stacheldrath/.compose/docker-compose.yml up -d

exit 0
